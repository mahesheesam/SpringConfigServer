db.collectionName.aggregate([
  { $group: { _id: "$corphubId", count: { $sum: 1 } } }
])

db.collectionName.aggregate([
  { $unwind: "$accounts" },  // Use if 'accounts' is an array in your document
  { $group: { _id: "$corphubId", count: { $sum: 1 } } }
])

db.collectionName.aggregate([
  { $group: { _id: "$corphubid", uniqueAccounts: { $addToSet: "$accountnumber" } } },  // Group by corphubid and collect unique accountnumbers
  { $project: { corphubid: "$_id", accountCount: { $size: "$uniqueAccounts" } } }  // Get the size of the unique account set
])
